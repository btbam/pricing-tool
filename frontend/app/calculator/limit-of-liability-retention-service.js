(function () {
  'use strict';

  /**
    * @ngdoc service
    * @name calculator.service:LimitOfLiabilityRetention

    * @description
   */
  var LimitOfLiabilityRetention, LimitOfLiabilityEpliRetention;

  LimitOfLiabilityRetention = (function () {
    function LimitOfLiabilityRetention() {
      this.name = 'LimitOfLiabilityRetention';
      this.table = this.table;
    }

    LimitOfLiabilityRetention.prototype.findClosest = function (array, num) {
      var ans, i, j, len, m, minDiff, val;
      i = 0;
      minDiff = Infinity;
      for (j = 0, len = array.length; j < len; j++) {
        val = array[j];
        m = Math.abs(num - val);
        if (m < minDiff) {
          minDiff = m;
          ans = val;
        }
      }
      if (ans) {
        return ans;
      }
      return array[0];
    };

    LimitOfLiabilityRetention.prototype.findClosestLimit = function (num) {
      var limits;
      limits = [250, 500, 1000, 2000, 3000, 4000, 5000, 10000, 15000, 20000, 25000, 50000];
      return this.findClosest(limits, num / 1000);
    };

    LimitOfLiabilityRetention.prototype.findClosestSIR = function (num) {
      var SIRs;
      SIRs = [5, 10, 25, 50, 75, 100, 150, 200, 250, 500, 750, 1000, 2000, 3000, 4000, 5000, 10000, 15000,
        20000,
        25000, 50000
      ];
      return this.findClosest(SIRs, num / 1000);
    };

    LimitOfLiabilityRetention.prototype.get = function (limit, SIR) {
      limit = limit / 1000 + '';
      SIR = SIR / 1000 + '';
      if (this.table[limit] && this.table[limit][SIR]) {
        return this.table[limit][SIR];
      } else {
        return 'N/A';
      }
    };

    LimitOfLiabilityRetention.prototype.table = {
      250: {
        5: 0.75,
        10: 0.69,
        25: 0.6,
        50: 0.528,
        75: 0.455,
        100: 0.383,
        150: 0.314,
        200: 0.245,
        250: 0.177,
        500: 0.128,
        750: 0.115,
        1000: 0.103,
        2000: 0.093,
        3000: 0.084,
        4000: 0.075,
        5000: 0.066,
        10000: 0.047,
        15000: 0.041,
        20000: 0.035,
        25000: 0.029,
        50000: 0.023
      },
      500: {
        5: 0.938,
        10: 0.863,
        25: 0.75,
        50: 0.675,
        75: 0.6,
        100: 0.525,
        150: 0.451,
        200: 0.378,
        250: 0.304,
        500: 0.253,
        750: 0.228,
        1000: 0.203,
        2000: 0.184,
        3000: 0.166,
        4000: 0.148,
        5000: 0.13,
        10000: 0.093,
        15000: 0.081,
        20000: 0.068,
        25000: 0.056,
        50000: 0.043
      },
      1000: {
        5: 1.25,
        10: 1.15,
        25: 1.0,
        50: 0.923,
        75: 0.845,
        100: 0.768,
        150: 0.689,
        200: 0.61,
        250: 0.532,
        500: 0.455,
        750: 0.429,
        1000: 0.403,
        2000: 0.367,
        3000: 0.331,
        4000: 0.295,
        5000: 0.26,
        10000: 0.184,
        15000: 0.159,
        20000: 0.134,
        25000: 0.109,
        50000: 0.083
      },
      2000: {
        5: 1.75,
        10: 1.52,
        25: 1.4,
        50: 1.321,
        75: 1.243,
        100: 1.164,
        150: 1.083,
        200: 1.002,
        250: 0.92,
        500: 0.831,
        750: 0.793,
        1000: 0.754,
        2000: 0.695,
        3000: 0.636,
        4000: 0.577,
        5000: 0.518,
        10000: 0.366,
        15000: 0.316,
        20000: 0.265,
        25000: 0.214,
        50000: 0.164
      },
      3000: {
        5: 2.188,
        10: 1.95,
        25: 1.75,
        50: 1.67,
        75: 1.59,
        100: 1.51,
        150: 1.426,
        200: 1.343,
        250: 1.259,
        500: 1.158,
        750: 1.106,
        1000: 1.055,
        2000: 0.985,
        3000: 0.916,
        4000: 0.846,
        5000: 0.777,
        10000: 0.548,
        15000: 0.472,
        20000: 0.396,
        25000: 0.32,
        50000: 0.244
      },
      4000: {
        5: 2.563,
        10: 2.3,
        25: 2.05,
        50: 1.97,
        75: 1.89,
        100: 1.81,
        150: 1.726,
        200: 1.643,
        250: 1.559,
        500: 1.458,
        750: 1.406,
        1000: 1.355,
        2000: 1.275,
        3000: 1.195,
        4000: 1.115,
        5000: 1.035,
        10000: 0.73,
        15000: 0.629,
        20000: 0.527,
        25000: 0.426,
        50000: 0.324
      },
      5000: {
        5: 3.15,
        10: 2.675,
        25: 2.4,
        50: 2.269,
        75: 2.188,
        100: 2.107,
        150: 2.021,
        200: 1.936,
        250: 1.85,
        500: 1.738,
        750: 1.676,
        1000: 1.615,
        2000: 1.534,
        3000: 1.454,
        4000: 1.374,
        5000: 1.294,
        10000: 0.913,
        15000: 0.786,
        20000: 0.659,
        25000: 0.532,
        50000: 0.405
      },
      10000: {
        5: 4.553,
        10: 4.0,
        25: 3.72,
        50: 3.56,
        75: 3.477,
        100: 3.394,
        150: 3.304,
        200: 3.215,
        250: 3.125,
        500: 2.994,
        750: 2.913,
        1000: 2.833,
        2000: 2.676,
        3000: 2.519,
        4000: 2.363,
        5000: 2.206,
        10000: 1.597,
        15000: 1.393,
        20000: 1.19,
        25000: 0.987,
        50000: 0.784
      },
      15000: {
        5: 5.691,
        10: 5.0,
        25: 4.6,
        50: 4.469,
        75: 4.385,
        100: 4.301,
        150: 4.209,
        200: 4.117,
        250: 4.026,
        500: 3.883,
        750: 3.791,
        1000: 3.699,
        2000: 3.497,
        3000: 3.294,
        4000: 3.092,
        5000: 2.89,
        10000: 2.121,
        15000: 1.865,
        20000: 1.608,
        25000: 1.352,
        50000: 1.096
      },
      20000: {
        5: 6.545,
        10: 5.8,
        25: 5.3,
        50: 5.151,
        75: 5.066,
        100: 4.981,
        150: 4.888,
        200: 4.795,
        250: 4.701,
        500: 4.551,
        750: 4.451,
        1000: 4.351,
        2000: 4.117,
        3000: 3.883,
        4000: 3.649,
        5000: 3.415,
        10000: 3.298,
        15000: 3.259,
        20000: 3.22,
        25000: 3.181,
        50000: 3.142
      },
      25000: {
        5: 7.527,
        10: 6.4,
        25: 5.83,
        50: 5.666,
        75: 5.573,
        100: 5.48,
        150: 5.377,
        200: 5.274,
        250: 5.171,
        500: 5.006,
        750: 4.896,
        1000: 4.786,
        2000: 4.593,
        3000: 4.4,
        4000: 4.208,
        5000: 4.015,
        10000: 3.919,
        15000: 3.887,
        20000: 3.855,
        25000: 3.823,
        50000: 3.79
      },
      50000: {
        5: 9.785,
        10: 8.32,
        25: 7.579,
        50: 7.366,
        75: 7.245,
        100: 7.123,
        150: 6.99,
        200: 6.856,
        250: 6.723,
        500: 6.508,
        750: 6.365,
        1000: 6.221,
        2000: 5.971,
        3000: 5.721,
        4000: 5.47,
        5000: 5.22,
        10000: 5.095,
        15000: 5.053,
        20000: 5.011,
        25000: 4.969,
        50000: 4.928
      }
    };

    return LimitOfLiabilityRetention;

  })();

  LimitOfLiabilityEpliRetention = function () {};

  LimitOfLiabilityEpliRetention.prototype = Object.create(LimitOfLiabilityRetention.prototype);

  LimitOfLiabilityEpliRetention.prototype.findClosestLimit = function (num) {
    var limits;
    limits =
      [500, 1000, 2000, 3000, 4000, 5000, 10000, 15000, 20000, 25000, 30000, 35000, 40000, 45000, 50000];
    return this.findClosest(limits, num / 1000);
  };

  LimitOfLiabilityEpliRetention.prototype.findClosestSIR = function (num) {
    var SIRs;
    SIRs = [2.5, 5, 10, 25, 35, 50, 75, 100, 150, 200, 250, 350, 500, 750, 1000, 2500, 5000, 10000, 25000];
    return this.findClosest(SIRs, num / 1000);
  };

  LimitOfLiabilityEpliRetention.prototype.table = {
    500: {
      2.5: 1.543,
      5: 1.244,
      10: 1.069,
      25: 0.855,
      35: 0.777,
      50: 0.69,
      75: 0.593,
      100: 0.519,
      150: 0.435,
      200: 0.385,
      250: 0.35,
      350: 0.296,
      500: 0.229,
      750: 0.17,
      1000: 0.135,
      2500: 0.071,
      5000: 0.043,
      10000: 0.033,
      25000: 0.028
    },
    1000: {
      2.5: 1.942,
      5: 1.633,
      10: 1.446,
      25: 1.197,
      35: 1.104,
      50: 1,
      75: 0.879,
      100: 0.788,
      150: 0.672,
      200: 0.601,
      250: 0.553,
      350: 0.487,
      500: 0.414,
      750: 0.34,
      1000: 0.297,
      2500: 0.175,
      5000: 0.118,
      10000: 0.099,
      25000: 0.09
    },
    2000: {
      2.5: 2.353,
      5: 2.035,
      10: 1.835,
      25: 1.551,
      35: 1.441,
      50: 1.32,
      75: 1.175,
      100: 1.066,
      150: 0.917,
      200: 0.824,
      250: 0.763,
      350: 0.685,
      500: 0.605,
      750: 0.515,
      1000: 0.463,
      2500: 0.282,
      5000: 0.196,
      10000: 0.168,
      25000: 0.155
    },
    3000: {
      2.5: 2.61,
      5: 2.286,
      10: 2.078,
      25: 1.771,
      35: 1.652,
      50: 1.52,
      75: 1.36,
      100: 1.239,
      150: 1.07,
      200: 0.963,
      250: 0.894,
      350: 0.809,
      500: 0.724,
      750: 0.625,
      1000: 0.567,
      2500: 0.349,
      5000: 0.244,
      10000: 0.21,
      25000: 0.195
    },
    4000: {
      2.5: 2.823,
      5: 2.493,
      10: 2.279,
      25: 1.954,
      35: 1.827,
      50: 1.686,
      75: 1.513,
      100: 1.382,
      150: 1.196,
      200: 1.078,
      250: 1.002,
      350: 0.912,
      500: 0.822,
      750: 0.716,
      1000: 0.654,
      2500: 0.405,
      5000: 0.284,
      10000: 0.247,
      25000: 0.229
    },
    5000: {
      2.5: 3.033,
      5: 2.698,
      10: 2.478,
      25: 2.134,
      35: 1.998,
      50: 1.848,
      75: 1.664,
      100: 1.524,
      150: 1.321,
      200: 1.192,
      250: 1.109,
      350: 1.012,
      500: 0.92,
      750: 0.805,
      1000: 0.738,
      2500: 0.459,
      5000: 0.324,
      10000: 0.281,
      25000: 0.261
    },
    10000: {
      2.5: 3.955,
      5: 3.598,
      10: 3.351,
      25: 2.926,
      35: 2.753,
      50: 2.565,
      75: 2.327,
      100: 2.147,
      150: 1.869,
      200: 1.692,
      250: 1.579,
      350: 1.456,
      500: 1.347,
      750: 1.197,
      1000: 1.112,
      2500: 0.699,
      5000: 0.498,
      10000: 0.434,
      25000: 0.406
    },
    15000: {
      2.5: 4.781,
      5: 4.405,
      10: 4.133,
      25: 3.635,
      35: 3.43,
      50: 3.208,
      75: 2.921,
      100: 2.705,
      150: 2.36,
      200: 2.14,
      250: 2,
      350: 1.854,
      500: 1.73,
      750: 1.549,
      1000: 1.446,
      2500: 0.914,
      5000: 0.654,
      10000: 0.572,
      25000:0.536
    },
    20000: {
      2.5: 5.516,
      5: 5.123,
      10: 4.829,
      25: 4.266,
      35: 4.032,
      50: 3.78,
      75: 3.45,
      100: 3.202,
      150: 2.797,
      200: 2.539,
      250: 2.375,
      350: 2.207,
      500: 2.071,
      750: 1.862,
      1000: 1.744,
      2500: 1.105,
      5000: 0.793,
      10000: 0.694,
      25000: 0.651
    },
    25000: {
      2.5: 6.197,
      5: 5.787,
      10: 5.473,
      25: 4.851,
      35: 4.59,
      50: 4.31,
      75: 3.939,
      100: 3.662,
      150: 3.202,
      200: 2.908,
      250: 2.722,
      350: 2.535,
      500: 2.386,
      750: 2.152,
      1000: 2.019,
      2500: 1.282,
      5000: 0.921,
      10000: 0.807,
      25000: 0.758
    },
    30000: {
      2.5: 6.818,
      5: 6.394,
      10: 6.061,
      25: 5.384,
      35: 5.099,
      50: 4.793,
      75: 4.386,
      100: 4.081,
      150: 3.571,
      200: 3.244,
      250: 3.038,
      350: 2.834,
      500: 2.674,
      750: 2.417,
      1000: 2.271,
      2500: 1.444,
      5000: 1.039,
      10000: 0.911,
      25000: 0.855
    },
    35000: {
      2.5: 7.383,
      5: 6.946,
      10: 6.596,
      25: 5.87,
      35: 5.562,
      50: 5.232,
      75: 4.792,
      100: 4.463,
      150: 3.907,
      200: 3.551,
      250: 3.326,
      350: 3.106,
      500: 2.936,
      750: 2.658,
      1000: 2.5,
      2500: 1.591,
      5000: 1.146,
      10000: 1.005,
      25000: 0.944
    },
    40000: {
      2.5: 7.909,
      5: 7.459,
      10: 7.093,
      25: 6.321,
      35: 5.992,
      50: 5.641,
      75: 5.17,
      100: 4.818,
      150: 4.219,
      200: 3.836,
      250: 3.594,
      350: 3.359,
      500: 3.18,
      750: 2.882,
      1000: 2.712,
      2500: 1.728,
      5000: 1.245,
      10000: 1.092,
      25000: 1.026
    },
    45000: {
      2.5: 8.398,
      5: 7.936,
      10: 7.556,
      25: 6.741,
      35: 6.393,
      50: 6.022,
      75: 5.522,
      100: 5.148,
      150: 4.51,
      200: 4.101,
      250: 3.843,
      350: 3.594,
      500: 3.407,
      750: 3.09,
      1000: 2.911,
      2500: 1.855,
      5000: 1.337,
      10000: 1.174,
      25000: 1.103
    },
    50000: {
      2.5: 8.859,
      5: 8.386,
      10: 7.992,
      25: 7.137,
      35: 6.771,
      50: 6.38,
      75: 5.853,
      100: 5.459,
      150: 4.784,
      200: 4.351,
      250: 4.078,
      350: 3.816,
      500: 3.62,
      750: 3.286,
      1000: 3.097,
      2500: 1.975,
      5000: 1.424,
      10000: 1.25,
      25000: 1.175
    }
  };

  angular.module('calculator')
    .service('LimitOfLiabilityEpliRetention', LimitOfLiabilityEpliRetention);

  angular.module('calculator')
    .service('LimitOfLiabilityRetention', LimitOfLiabilityRetention);
})();
